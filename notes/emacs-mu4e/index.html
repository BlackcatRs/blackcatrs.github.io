<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Emacs as Email Client | Vithurshan SELVARAJAH</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css></head><body><nav><ul class=menu><li><a href=/>Home</a></li><li><a href=/notes/>Notebook</a></li><li><a href=/categories/>Categories</a></li><li><a href=/projects/>Projects</a></li><li><a href=/index.xml>RSS</a></li></ul><hr></nav><div class=article-meta><h1><span class=title>Emacs as Email Client</span></h1><h2 class=date>2023/11/11</h2></div><main><div id=outline-container-headline-1 class=outline-2><h2 id=headline-1>Emacs Mu4e</h2><div id=outline-text-headline-1 class=outline-text-2><p>We can use Emacs to consult mails with the help of various programs. Among them, <code class=verbatim>Mu4e</code> is a mail client for Emacs and it is considered as an Emacs interface for <code class=verbatim>mu</code> the mail indexer. A typical example might be a mail sync program like <code>isync</code> which downloads mail from the remote Maildir folder to the local Maildir folder and then the <code class=verbatim>mu</code> indexer will be used to index the mail. Finally an Emacs mail client can read the mails.</p><div id=outline-container-headline-2 class=outline-3><h3 id=headline-2>Prerequisite</h3><div id=outline-text-headline-2 class=outline-text-3><p>Install <code>isync</code> using your package manager, and you should install <code>mu4e</code> using the system package manager to avoid any compatibility issues. Here we are installing the <code class=verbatim>apt</code> package manager, but use whatever package manager you are using:</p><div class="src src-shell"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt update <span style=color:#f92672>&amp;&amp;</span> sudo apt install mu4e isync</span></span></code></pre></div></div></div></div><div id=outline-container-headline-3 class=outline-3><h3 id=headline-3>Syncing Mails</h3><div id=outline-text-headline-3 class=outline-text-3><p>We will use <code>isync</code> program to download mails to local Maildir folder. We can also use a program called <code>offlineimap</code> which is a bit slower but it can work on Windows. Download mails from remote Maildir folder using <code class=verbatim>.mbsyncrc</code> configuration file with following settings:</p><p>Refer to <a href=https://www.atomicl.net/notes/isync/>"Offline Email with Isync"</a> page for a more detailed explanation of Isync configuration.</p></div></div><div id=outline-container-headline-4 class=outline-3><h3 id=headline-4>Index mailbox</h3><div id=outline-text-headline-4 class=outline-text-3><p>Once mails have been synced to local Maildir, run a initial indexing process by providing you e-mail address to <code class=verbatim>mu</code> program:</p><div class="src src-shell"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mu init --maildir<span style=color:#f92672>=</span>~/Mail --my-address<span style=color:#f92672>=</span>vithurshanselvarajah@gmail.com
</span></span><span style=display:flex><span>mu index</span></span></code></pre></div></div><p><strong>NOTE: You will need to use â€“my-address for every e-mail address you use in a multiple account setup.</strong></p></div></div><div id=outline-container-headline-5 class=outline-3><h3 id=headline-5>Email Client</h3><div id=outline-text-headline-5 class=outline-text-3><p><code class=verbatim>Mu4e</code> is an email client for Emacs and it's consider as Emacs interface for <code class=verbatim>mu</code> mail indexer. A typical example could be a mail syncing program like <code>isync</code> which download mail from remote Maildir folder to local Maildir folder and then <code class=verbatim>mu</code> indexer will be used to index mail. Then an Emacs mail client can read mails.</p><div class="src src-emacs-lisp"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp><span style=display:flex><span>  <span style=color:#75715e>;; Start - Mail ------------------------------------------------------</span>
</span></span><span style=display:flex><span>  (use-package mu4e
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Install mu4e using the distro&#39;s package manager to stay compatible with mbsync</span>
</span></span><span style=display:flex><span>    :ensure <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>    :defer <span style=color:#ae81ff>120</span> <span style=color:#75715e>; Wait until 2 min after startup</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Path where the package manager is installed mu4e files</span>
</span></span><span style=display:flex><span>    :load-path <span style=color:#e6db74>&#34;/usr/share/emacs/site-lisp/mu4e/&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    :config
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Avoid mail syncing issues when using &#34;mbsync&#34;</span>
</span></span><span style=display:flex><span>    (setq mu4e-change-filenames-when-moving <span style=color:#66d9ef>t</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Configure the function to use for sending mail</span>
</span></span><span style=display:flex><span>    (setq message-send-mail-function <span style=color:#e6db74>&#39;smtpmail-send-it</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Shortcut to Mu4e dashboard</span>
</span></span><span style=display:flex><span>    (global-set-key (kbd <span style=color:#e6db74>&#34;C-c m&#34;</span>) <span style=color:#e6db74>&#39;mu4e</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Distroy message buffers on exit</span>
</span></span><span style=display:flex><span>    (setq message-kill-buffer-on-exit <span style=color:#66d9ef>t</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Disable prompt when quitting</span>
</span></span><span style=display:flex><span>    (setq mu4e-confirm-quit <span style=color:#66d9ef>nil</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Refresh mail using isync every 10 minutes</span>
</span></span><span style=display:flex><span>    (setq mu4e-update-interval (<span style=color:#a6e22e>*</span> <span style=color:#ae81ff>10</span> <span style=color:#ae81ff>60</span>))
</span></span><span style=display:flex><span>    (setq mu4e-get-mail-command <span style=color:#e6db74>&#34;/usr/bin/mbsync -Va -c ~/.config/isync/mbsyncrc&#34;</span>)
</span></span><span style=display:flex><span>    (setq mu4e-maildir <span style=color:#e6db74>&#34;~/.local/share/mail&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Set first context (&#34;Laposte&#34;) as default</span>
</span></span><span style=display:flex><span>    (setq mu4e-context-policy <span style=color:#e6db74>&#39;pick-first</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Prompt for context when composing mail if a context hasn&#39;t been previously picked</span>
</span></span><span style=display:flex><span>    (setq mu4e-compose-context-policy <span style=color:#e6db74>&#39;ask-if-none</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Ask user to select a key when signing/encrypting</span>
</span></span><span style=display:flex><span>    (setq mm-sign-option <span style=color:#e6db74>&#39;guided</span>)
</span></span><span style=display:flex><span>    (setq mm-encrypt-option <span style=color:#e6db74>&#39;guided</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Common setting for all mail accounts</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Use &#34;flowed&#34; format to display mails to recipient</span>
</span></span><span style=display:flex><span>    (setq mu4e-compose-format-flowed <span style=color:#66d9ef>t</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Disable colors for HTML mails.</span>
</span></span><span style=display:flex><span>    (setq shr-use-colors <span style=color:#66d9ef>nil</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Enable spell checking</span>
</span></span><span style=display:flex><span>    (add-hook <span style=color:#e6db74>&#39;mu4e-compose-mode-hook</span> <span style=color:#e6db74>&#39;flyspell-mode</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Don&#39;t include related messages in queries</span>
</span></span><span style=display:flex><span>    (setq mu4e-search-include-related <span style=color:#66d9ef>nil</span>)
</span></span><span style=display:flex><span>    (setq <span style=color:#a6e22e>user-full-name</span>  <span style=color:#e6db74>&#34;Vithurshan SELVARJAH&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>;;  If your Gmail is set up with a different lanugage you also need</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>;;  to translate the names of these folders. For Norwegian</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>;;  &#34;[Gmail]/Corbeille&#34; would be &#34;[Gmail]/Papirkurv&#34;.</span>
</span></span><span style=display:flex><span>    (setq mu4e-contexts
</span></span><span style=display:flex><span>          (<span style=color:#a6e22e>list</span>
</span></span><span style=display:flex><span>           <span style=color:#75715e>;; Laposte - vithurshan@laposte.net</span>
</span></span><span style=display:flex><span>           (make-mu4e-context
</span></span><span style=display:flex><span>            :name <span style=color:#e6db74>&#34;Laposte&#34;</span>
</span></span><span style=display:flex><span>            :match-func
</span></span><span style=display:flex><span>            (lambda (msg)
</span></span><span style=display:flex><span>              (when msg
</span></span><span style=display:flex><span>                (string-prefix-p <span style=color:#e6db74>&#34;/vithurshan@laposte.net&#34;</span> (mu4e-message-field msg :maildir))))
</span></span><span style=display:flex><span>            :vars <span style=color:#f92672>&#39;</span>((user-mail-address   <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;vithurshan@laposte.net&#34;</span>)
</span></span><span style=display:flex><span>                    (mu4e-compose-signature <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;Vithurshan SELVARAJAH\n* Mon site web â€“ www.atomicl.net\n* LinkedIn â€“ www.linkedin.com/in/vithurshan-selvarajah\n* RSS Feed - www.atomicl.net/index.xml&#34;</span>)
</span></span><span style=display:flex><span>                    <span style=color:#75715e>;; The SMTP password will be retrieved from the file</span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e>;; defined in the &#34;auth-sources&#34; variable</span>
</span></span><span style=display:flex><span>                    (smtpmail-smtp-server  <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;smtp.laposte.net&#34;</span>)
</span></span><span style=display:flex><span>                    (smtpmail-smtp-service <span style=color:#f92672>.</span> <span style=color:#ae81ff>465</span>)
</span></span><span style=display:flex><span>                    (smtpmail-stream-type  <span style=color:#f92672>.</span> ssl)
</span></span><span style=display:flex><span>                    (mu4e-drafts-folder  <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;/vithurshan@laposte.net/DRAFT&#34;</span>)
</span></span><span style=display:flex><span>                    (mu4e-sent-folder    <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;/vithurshan@laposte.net/Sent Items&#34;</span>)
</span></span><span style=display:flex><span>                    (mu4e-refile-folder  <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;/vithurshan@laposte.net/Archives&#34;</span>)
</span></span><span style=display:flex><span>                    (mu4e-trash-folder   <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;/vithurshan@laposte.net/Deleted Items&#34;</span>)
</span></span><span style=display:flex><span>                    (mu4e-maildir-shortcuts <span style=color:#f92672>.</span> ((<span style=color:#e6db74>&#34;/vithurshan@laposte.net/Inbox&#34;</span>         <span style=color:#f92672>.</span> <span style=color:#e6db74>?i</span>)
</span></span><span style=display:flex><span>                                               (<span style=color:#e6db74>&#34;/vithurshan@laposte.net/Sent Items&#34;</span>    <span style=color:#f92672>.</span> <span style=color:#e6db74>?s</span>)
</span></span><span style=display:flex><span>                                               (<span style=color:#e6db74>&#34;/vithurshan@laposte.net/Deleted Items&#34;</span> <span style=color:#f92672>.</span> <span style=color:#e6db74>?t</span>)
</span></span><span style=display:flex><span>                                               (<span style=color:#e6db74>&#34;/vithurshan@laposte.net/DRAFT&#34;</span>         <span style=color:#f92672>.</span> <span style=color:#e6db74>?d</span>)))
</span></span><span style=display:flex><span>                    ))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>           <span style=color:#75715e>;; Gmail - vithurshanselvarajah@gmail.com</span>
</span></span><span style=display:flex><span>           (make-mu4e-context
</span></span><span style=display:flex><span>            :name <span style=color:#e6db74>&#34;Gmail&#34;</span>
</span></span><span style=display:flex><span>            :match-func
</span></span><span style=display:flex><span>            (lambda (msg)
</span></span><span style=display:flex><span>              (when msg
</span></span><span style=display:flex><span>                (string-prefix-p <span style=color:#e6db74>&#34;/vithurshanselvarajah@gmail.com&#34;</span> (mu4e-message-field msg :maildir))))
</span></span><span style=display:flex><span>            :vars <span style=color:#f92672>&#39;</span>((user-mail-address <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;vithurshanselvarajah@gmail.com&#34;</span>)
</span></span><span style=display:flex><span>                    (smtpmail-smtp-server  <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;smtp.gmail.com&#34;</span>)
</span></span><span style=display:flex><span>                    (smtpmail-smtp-service <span style=color:#f92672>.</span> <span style=color:#ae81ff>465</span>)
</span></span><span style=display:flex><span>                    (smtpmail-stream-type  <span style=color:#f92672>.</span> ssl)
</span></span><span style=display:flex><span>                    (mu4e-drafts-folder  <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;/vithurshanselvarajah@gmail.com/[Gmail]/Brouillons&#34;</span>)
</span></span><span style=display:flex><span>                    (mu4e-sent-folder  <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;/vithurshanselvarajah@gmail.com/[Gmail]/Messages envoy&amp;AOk-s&#34;</span>)
</span></span><span style=display:flex><span>                    (mu4e-refile-folder  <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;/vithurshanselvarajah@gmail.com/[Gmail]/Tous les messages&#34;</span>)
</span></span><span style=display:flex><span>                    (mu4e-trash-folder  <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;/vithurshanselvarajah@gmail.com/[Gmail]/Corbeille&#34;</span>)
</span></span><span style=display:flex><span>                    (mu4e-maildir-shortcuts <span style=color:#f92672>.</span> ((<span style=color:#e6db74>&#34;/vithurshanselvarajah@gmail.com/Inbox&#34;</span>                        <span style=color:#f92672>.</span> <span style=color:#e6db74>?i</span>)
</span></span><span style=display:flex><span>                                               (<span style=color:#e6db74>&#34;/vithurshanselvarajah@gmail.com/[Gmail]/Messages envoy&amp;AOk-s&#34;</span> <span style=color:#f92672>.</span> <span style=color:#e6db74>?s</span>)
</span></span><span style=display:flex><span>                                               (<span style=color:#e6db74>&#34;/vithurshanselvarajah@gmail.com/[Gmail]/Corbeille&#34;</span>            <span style=color:#f92672>.</span> <span style=color:#e6db74>?t</span>)
</span></span><span style=display:flex><span>                                               (<span style=color:#e6db74>&#34;/vithurshanselvarajah@gmail.com/[Gmail]/Brouillons&#34;</span>           <span style=color:#f92672>.</span> <span style=color:#e6db74>?d</span>)
</span></span><span style=display:flex><span>                                               (<span style=color:#e6db74>&#34;/vithurshanselvarajah@gmail.com/[Gmail]/Tous les messages&#34;</span>    <span style=color:#f92672>.</span> <span style=color:#e6db74>?a</span>)))
</span></span><span style=display:flex><span>                    ))
</span></span><span style=display:flex><span>           ))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>;; Empty the initial bookmark list</span>
</span></span><span style=display:flex><span>  (setq mu4e-bookmarks <span style=color:#f92672>&#39;</span>())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  (setq mu4e-bookmarks
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#39;</span>((:name <span style=color:#e6db74>&#34;All Inboxes&#34;</span> :query <span style=color:#e6db74>&#34;maildir:/vithurshan@laposte.net/Inbox OR m:/vithurshanselvarajah@gmail.com/Inbox&#34;</span> :key <span style=color:#e6db74>?i</span>)
</span></span><span style=display:flex><span>	  (:name <span style=color:#e6db74>&#34;Sent Items&#34;</span> :query <span style=color:#e6db74>&#34;m:/vithurshan@laposte.net/Sent\\ Items OR m:/vithurshanselvarajah@gmail.com/[Gmail]/Messages\\ envoy&amp;AOk-s&#34;</span> :key <span style=color:#e6db74>?s</span>)
</span></span><span style=display:flex><span>	  (:name <span style=color:#e6db74>&#34;Deleted Mails&#34;</span> :query <span style=color:#e6db74>&#34;m:/vithurshan@laposte.net/Deleted\\ Items OR m:/vithurshanselvarajah@gmail.com/[Gmail]/Corbeille&#34;</span> :key <span style=color:#e6db74>?t</span>)
</span></span><span style=display:flex><span>	  (:name <span style=color:#e6db74>&#34;Draft Mails&#34;</span> :query <span style=color:#e6db74>&#34;m:/vithurshan@laposte.net/DRAFT OR m:/vithurshanselvarajah@gmail.com/[Gmail]/Brouillons&#34;</span> :key <span style=color:#e6db74>?d</span>)
</span></span><span style=display:flex><span>          (:name <span style=color:#e6db74>&#34;Today&#39;s messages&#34;</span> :query <span style=color:#e6db74>&#34;(m:/vithurshan@laposte.net/Inbox OR m:/vithurshanselvarajah@gmail.com/Inbox) AND date:today..now&#34;</span> :key <span style=color:#e6db74>?n</span>)
</span></span><span style=display:flex><span>          (:name <span style=color:#e6db74>&#34;Last 7 days&#34;</span> :query <span style=color:#e6db74>&#34;(m:/vithurshan@laposte.net/Inbox OR m:/vithurshanselvarajah@gmail.com/Inbox) AND date:7d..now&#34;</span> :hide-unread <span style=color:#66d9ef>t</span> :key <span style=color:#e6db74>?w</span>)
</span></span><span style=display:flex><span>          (:name <span style=color:#e6db74>&#34;Messages with images&#34;</span> :query <span style=color:#e6db74>&#34;mime:image/*&#34;</span> :key <span style=color:#e6db74>?p</span>)))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>;; Start mu4e in the background when Emacs starts and periodically sync mail at the interval defined above</span>
</span></span><span style=display:flex><span>    (mu4e <span style=color:#66d9ef>t</span>))
</span></span><span style=display:flex><span>  <span style=color:#75715e>;; End - Mail --------------------------------------------------------</span></span></span></code></pre></div></div><div id=outline-container-headline-6 class=outline-4><h4 id=headline-6>SMTP Conf</h4><div id=outline-text-headline-6 class=outline-text-4><p>Now we need to set SMTP credentials in <code class=verbatim>~/.local/share/emacs/authinfo.gpg</code> file as defined earlier for Mu4e to send mails. Whenever we save a file with ".gpg" extension, Emacs uses the <code class=verbatim>epa (Easy PGP Assistant)</code> library to encrypt the password using GnuPG:</p><div class="src src-text"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>  machine smtp.gmail.com login vithurshanselvarajah@gmail.com password &lt;your-password&gt; port 465</span></span></code></pre></div></div><p>Passwords set in the file can also be extracted manually using <code class=verbatim>(auth-source-search:host "smtp.gmail.com")</code> Emacs-lisp function.</p></div></div><div id=outline-container-headline-7 class=outline-4><h4 id=headline-7>Do Not Wrap Lines</h4><div id=outline-text-headline-7 class=outline-text-4><p>Traditional emails have a width limit of 79 characters for each line in the email body and by default Mu4e will use this limit to wrap lines in the email body. Instead, we can use the "flowed" format which tells the recipient's email client to adjust the width of line based on their screen size:</p><div class="src src-emacs-lisp"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp><span style=display:flex><span>  <span style=color:#75715e>;; Use &#34;flowed&#34; format to display mails to recipient</span>
</span></span><span style=display:flex><span>  (setq mu4e-compose-format-flowed <span style=color:#66d9ef>t</span>)</span></span></code></pre></div></div><p>Refer to this <a href=https://joeclark.org/ffaq.html>article</a> for more details on "flowed" format.</p></div></div><div id=outline-container-headline-8 class=outline-4><h4 id=headline-8>Mu4e Dashboard [Optional]</h4><div id=outline-text-headline-8 class=outline-text-4><p>Controlling the number of messages that will get displayed to user by <code class=verbatim>mu4e</code> by default:</p><ul><li><code class=verbatim>mu4e-headers-results-limit</code>: The number of messages to display in mail listings (default 500)</li><li><code class=verbatim>mu4e-headers-full-search</code>: If <code class=verbatim>t</code>, shows all messages, ignoring limit.</li></ul><p>You can toggle <code class=verbatim>mu4e-headers-full-search</code> with <code class=verbatim>M-x mu4e-headers-toggle-full-search</code>!</p></div></div></div></div><div id=outline-container-headline-9 class=outline-3><h3 id=headline-9>Search queries</h3><div id=outline-text-headline-9 class=outline-text-3><p>Run the function <code class=verbatim>mu4e-search</code> or press letter <code class=verbatim>s</code> from within mu4e to start searching:</p><ul><li><code class=verbatim>something</code> - General text search for "something".</li><li><code class=verbatim>from:stallman</code> - Emails from a particular sender.</li><li><code class=verbatim>date:today..now</code> - Date range.</li><li><code class=verbatim>flag:attach</code> - Emails with an attachment.</li><li><code class=verbatim>maildir:/Inbox</code> - Search in a specific mail directory.</li></ul><p>You can also use logic statements like and , not:</p><ul><li><code class=verbatim>maildir:/Inbox and from:eli and docs</code></li></ul><p>Documentation: <a href=https://www.djcbsoftware.nl/code/mu/mu4e/Queries.html>https://www.djcbsoftware.nl/code/mu/mu4e/Queries.html</a></p></div></div><div id=outline-container-headline-10 class=outline-3><h3 id=headline-10>Keybinding</h3><div id=outline-text-headline-10 class=outline-text-3><p>Run <code class=verbatim>mu4e</code> to see the landing page or email dashboard <code class=verbatim>mu4e</code>. When reading mail, you start out in the <code>Headers</code> buffer and when you select an email with <code class=verbatim>RET</code>, the <code>View</code> buffer is displayed in a window below the <code>Headers</code> buffer window.</p><p>Keybinding on <code>Headers</code> mode/buffer:</p><table><thead><tr><th>Key</th><th>Evil</th><th>Command</th><th>Description</th><th class=align-right></th></tr></thead><tbody><tr><td></td><td></td><td><strong>Movement</strong></td><td></td><td class=align-right></td></tr><tr><td><code>C-n</code></td><td><code>j</code></td><td><code class=verbatim>next-line</code></td><td>Moves to the next header line</td><td class=align-right></td></tr><tr><td><code>C-p</code></td><td><code>k</code></td><td><code class=verbatim>previous-line</code></td><td>Moves to the previous header line</td><td class=align-right></td></tr><tr><td><code>[[</code></td><td><code>[[</code></td><td><code class=verbatim>mu4e-headers-prev-unread</code></td><td>Moves to previous unread message</td><td class=align-right></td></tr><tr><td><code>]]</code></td><td><code>]]</code></td><td><code class=verbatim>mu4e-headers-next-unread</code></td><td>Moves to next unread message</td><td class=align-right></td></tr><tr><td><code>j</code></td><td><code>J</code></td><td><code class=verbatim>mu4e~headers-jump-to-maildir</code></td><td>Jump to another mail directory</td><td class=align-right></td></tr><tr><td></td><td></td><td><strong>Toggles</strong></td><td></td><td class=align-right></td></tr><tr><td><code>P</code></td><td><code>zt</code></td><td><code class=verbatim>mu4e-headers-toggle-threading</code></td><td>Toggles threaded message display</td><td class=align-right></td></tr><tr><td><code>W</code></td><td><code>zr</code></td><td><code class=verbatim>mu4e-headers-toggle-include-related</code></td><td>Toggles related message display</td><td class=align-right></td></tr><tr><td></td><td></td><td><strong>Marking</strong></td><td></td><td class=align-right></td></tr><tr><td><code>d</code></td><td><code>d</code></td><td><code class=verbatim>mu4e-headers-mark-for-trash</code></td><td>Marks message for deletion</td><td class=align-right></td></tr><tr><td><code>m</code></td><td><code>m</code></td><td><code class=verbatim>mu4e-headers-mark-for-move</code></td><td>Marks message for move to folder</td><td class=align-right></td></tr><tr><td><code>+</code></td><td><code>+</code></td><td><code class=verbatim>mu4e-headers-mark-for-flag</code></td><td>Marks message for flagging</td><td class=align-right></td></tr><tr><td><code>-</code></td><td><code>-</code></td><td><code class=verbatim>mu4e-headers-mark-for-unflag</code></td><td>Marks message for unflagging</td><td class=align-right></td></tr><tr><td><code>?</code></td><td></td><td><code class=verbatim>mu4e-headers-mark-for-unread</code></td><td>Marks message as unread</td><td class=align-right></td></tr><tr><td><code>!</code></td><td></td><td><code class=verbatim>mu4e-headers-mark-for-read</code></td><td>Marks message as read</td><td class=align-right></td></tr><tr><td><code>%</code></td><td><code>%</code></td><td><code class=verbatim>mu4e-headers-mark-pattern</code></td><td>Marks based on a regex pattern</td><td class=align-right></td></tr><tr><td><code>u</code></td><td><code>u</code></td><td><code class=verbatim>mu4e-headers-mark-for-unmark</code></td><td>Removes mark for message</td><td class=align-right></td></tr><tr><td><code>U</code></td><td><code>U</code></td><td><code class=verbatim>mu4e-mark-unmark-all</code></td><td>Unmarks all marks in the view</td><td class=align-right></td></tr><tr><td><code>x</code></td><td><code>x</code></td><td><code class=verbatim>mu4e-mark-execute-all</code></td><td>Executes all marks in the view</td><td class=align-right></td></tr><tr><td></td><td></td><td><strong>Searching</strong></td><td></td><td class=align-right></td></tr><tr><td><code>s</code></td><td><code>s</code></td><td><code class=verbatim>mu4e-headers-search</code></td><td>Search all e-mails</td><td class=align-right></td></tr><tr><td><code>S</code></td><td><code>S</code></td><td><code class=verbatim>mu4e-headers-search-edit</code></td><td>Edit current search (useful!)</td><td class=align-right></td></tr><tr><td><code>/</code></td><td><code>/</code></td><td><code class=verbatim>mu4e-headers-search-narrow</code></td><td>Narrow down the current results</td><td class=align-right></td></tr><tr><td><code>b</code></td><td><code>b</code></td><td><code class=verbatim>mu4e-headers-search-bookmark</code></td><td>Select a bookmark to search with</td><td class=align-right></td></tr><tr><td><code>B</code></td><td><code>B</code></td><td><code class=verbatim>mu4e-headers-search-bookmark-edit</code></td><td>Edit bookmark before search</td><td class=align-right></td></tr><tr><td><code>g</code></td><td><code>gr</code></td><td><code class=verbatim>mu4e-rerun-search</code></td><td>Rerun the current search</td><td class=align-right></td></tr><tr><td></td><td></td><td><strong>Composing</strong></td><td></td><td class=align-right></td></tr><tr><td><code>C</code></td><td><code>C</code>, <code>cc</code></td><td><code class=verbatim>mu4e-compose-new</code></td><td>Compose a new e-mail</td><td class=align-right></td></tr><tr><td><code>R</code></td><td><code>R</code>, <code>cr</code></td><td><code class=verbatim>mu4e-compose-reply</code></td><td>Compose a reply to selected email</td><td class=align-right></td></tr><tr><td><code>F</code></td><td><code>F</code>, <code>cf</code></td><td><code class=verbatim>mu4e-compose-forward</code></td><td>Compose a forward for selected email</td><td class=align-right></td></tr><tr><td><code>C-c C-d</code></td><td></td><td><code class=verbatim>message-dont-send</code></td><td>Save the composed mail as draft</td><td class=align-right></td></tr><tr><td><code>E</code></td><td><code>E</code>, <code>ce</code></td><td><code class=verbatim>mu4e-compose-edit</code></td><td>Edit selected draft message</td><td class=align-right></td></tr><tr><td><code>C-c C-a</code></td><td></td><td><code class=verbatim>mml-attach-file</code></td><td>Attach a file</td><td class=align-right></td></tr><tr><td><code>C-c RET s p</code></td><td></td><td><code class=verbatim>mml-secure-message-sign-pgpmime</code></td><td>Sign the message</td><td class=align-right></td></tr><tr><td><code>C-c RET C p</code></td><td></td><td><code class=verbatim>mml-secure-encrypt-pgpmime</code></td><td>Encrypt the message</td><td class=align-right></td></tr><tr><td></td><td></td><td><strong>Other Actions</strong></td><td></td><td class=align-right></td></tr><tr><td><code>q</code></td><td><code>q</code></td><td><code class=verbatim>mu4e~headers-quit-buffer</code></td><td>Quit the headers view</td><td class=align-right></td></tr></tbody></table><p>Many of the same keybinding in <code>Headers</code> mode/buffer will work in <code>View</code> mode/buffer:</p><table><thead><tr><th>Key</th><th>Evil</th><th>Command</th><th>Description</th></tr></thead><tbody><tr><td></td><td></td><td><strong>Movement</strong></td><td></td></tr><tr><td><code>C-n</code></td><td><code>j</code></td><td><code class=verbatim>next-line</code></td><td>Moves to the next line in message</td></tr><tr><td><code>C-p</code></td><td><code>k</code></td><td><code class=verbatim>previous-line</code></td><td>Moves to the previous line in message</td></tr><tr><td><code>n</code></td><td><code>C-j</code></td><td><code class=verbatim>mu4e-view-headers-next</code></td><td>Moves to next email in header list</td></tr><tr><td><code>p</code></td><td><code>C-k</code></td><td><code class=verbatim>mu4e-view-headers-prev</code></td><td>Moves to previous email in header list</td></tr><tr><td><code>[[</code></td><td><code>[[</code></td><td><code class=verbatim>mu4e-headers-prev-unread</code></td><td>Moves to previous unread message</td></tr><tr><td><code>]]</code></td><td><code>]]</code></td><td><code class=verbatim>mu4e-headers-next-unread</code></td><td>Moves to next unread message</td></tr></tbody></table></div></div><div id=outline-container-headline-11 class=outline-3><h3 id=headline-11>References</h3><div id=outline-text-headline-11 class=outline-text-3><ul><li><a href=https://www.reddit.com/r/emacs/comments/8q84dl/tip_how_to_easily_manage_your_emails_with_mu4e/>How to easily manage your emails with mu4e</a></li><li>Emacs Mail by <a href="https://www.youtube.com/playlist?list=PLEoMzSkcN8oM-kA19xOQc8s0gr0PpFGJQ">System Crafters</a></li><li><a href=https://www.reddit.com/r/emacs/comments/bfsck6/mu4e_for_dummies/>mu4e for Dummies</a></li></ul></div></div></div></div></main><footer><hr>Â© <a href=https://www.atomicl.net>Vithurshan SELVARAJAH</a> 2022 &ndash; 2023 | <a href=https://github.com/BlackcatRs>Github</a> | <a href=https://www.linkedin.com/in/vithurshan-selvarajah/>LinkedIn</a></footer></body></html>